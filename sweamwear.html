<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Iyonic Fashion - Dresses Collection</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 font-sans">

  <!-- 🛍️ Header -->
  <header class="bg-pink-600 text-white px-4 py-3 flex justify-between items-center">
    <h1 class="text-xl font-bold">Iyonic Fashion</h1>
    <div class="flex items-center space-x-2 sm:space-x-4">
      <a href="dashboard.html" id="dashboard-btn" class="bg-yellow-500 text-xs sm:text-sm px-3 py-1 rounded hidden">Dashboard</a>
      <button id="logout-btn" class="bg-red-500 text-xs sm:text-sm px-3 py-1 rounded hidden">Logout</button>
      <a href="login.html" id="login-btn" class="bg-white text-pink-600 text-xs sm:text-sm px-3 py-1 rounded">Login</a>
      <a href="signup.html" id="signup-btn" class="bg-white text-pink-600 text-xs sm:text-sm px-3 py-1 rounded">Signup</a>
    </div>
  </header>

  <!-- 🔍 Search Bar -->
  <div class="w-full text-center py-6 bg-white shadow">
    <input 
      type="text"
      id="search-input"
      placeholder="Search for dresses..."
      class="w-2/3 sm:w-1/2 px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-pink-400"
      oninput="searchProducts()"
    />
  </div>
  <div class="bg-gray-100 py-4 px-6">
    <nav class="flex text-sm font-medium">
      <a href="index.html" class="text-blue-600 hover:text-blue-800">Home</a>
    </nav>
  </div>
  
  <!-- 🛒 Product Grid -->
  <div id="product-grid" class="max-w-7xl mx-auto px-4 py-8 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-5 gap-6">
    
    <!-- Product 1 -->
    <div class="product-item bg-white shadow rounded-lg overflow-hidden text-center" data-name="Gabriella Ruched Mini Dress - Orange">
      <a href="details.html?product_id=1">
        <img src="https://cdn.shopify.com/s/files/1/0293/9277/files/05-23-23Studio2_KJ_RL_13-55-35_45_PD74125SFN_Orange_28970_JB.jpg?v=1685117986&width=600&height=900&crop=center" alt="Dress 1" class="w-full h-auto hover:opacity-90 transition duration-200">
      </a>
      <div class="p-4">
        <h3 class="font-semibold text-lg">Gabriella Ruched Mini Dress - Orange</h3>
        <p class="mt-2 text-pink-600 font-bold text-sm">
          $39.99 <span class="line-through text-gray-400 ml-2">$49.99</span>
        </p>
      </div>
    </div>

    <!-- Product 2 -->
    <div class="product-item bg-white shadow rounded-lg overflow-hidden text-center" data-name="Floral Midi Dress">
      <a href="details.html?product_id=2">
        <img src="https://cdn.shopify.com/s/files/1/0293/9277/products/04-11-23Studio1_TA_AC_10-32-17_9_D13453_Black_33173_SG.jpg?v=1681507034&width=600&height=900&crop=center" alt="Dress 2" class="w-full h-auto hover:opacity-90 transition duration-200">
      </a>
      <div class="p-4">
        <h3 class="font-semibold text-lg">Floral Midi Dress</h3>
        <p class="mt-2 text-pink-600 font-bold text-sm">$29.99</p>
      </div>
    </div>

        <!-- Product 4 -->
        <div class="product-item bg-white shadow rounded-lg overflow-hidden text-center" data-name="Julia Flocked Mini Dress - Black">
          <a href="details.html?product_id=4">
            <img src="https://cdn.shopify.com/s/files/1/0293/9277/files/07-21-23Studio2_KJ_RL_12-11-17_7_10584D_Black_P_16042_JB.jpg?v=1690308117&width=600&height=900&crop=center" alt="Dress 4" class="w-full h-auto hover:opacity-90 transition duration-200">
          </a>
          <div class="p-4">
            <h3 class="font-semibold text-lg">Julia Flocked Mini Dress - Black</h3>
            <p class="mt-2 text-pink-600 font-bold text-sm">$25.99</p>
          </div>
        </div>
  
            <!-- Product 5 -->
      <div class="product-item bg-white shadow rounded-lg overflow-hidden text-center" data-name="Ruffles and Roses Mini Dress - Black">
          <a href="details.html?product_id=5">
            <img src="https://cdn.shopify.com/s/files/1/0293/9277/files/06-09-23Studio3_HY_IM_14-17-56_43_GW22C1647_Black_17566_DQ_DQ.jpg?v=1686867080&width=600&height=900&crop=center" alt="Dress 5" class="w-full h-auto hover:opacity-90 transition duration-200">
          </a>
          <div class="p-4">
            <h3 class="font-semibold text-lg">Ruffles and Roses Mini Dress - Black</h3>
            <p class="mt-2 text-pink-600 font-bold text-sm">$70.99</p>
          </div>
        </div>
    <!-- Product 3 -->
    <div class="product-item bg-white shadow rounded-lg overflow-hidden text-center" data-name="Classic Black Dress">
      <a href="details.html?product_id=3">
        <img src="https://cdn.shopify.com/s/files/1/0293/9277/files/04-25-23Studio2_KJ_RL_14-48-02_27_SBD357_Pinkcombo_19249_DQ.jpg?v=1682716612&width=600&height=900&crop=center" alt="Dress 3" class="w-full h-auto hover:opacity-90 transition duration-200">
      </a>
      <div class="p-4">
        <h3 class="font-semibold text-lg">Classic Black Dress</h3>
        <p class="mt-2 text-pink-600 font-bold text-sm">
          $59.99 <span class="line-through text-gray-400 ml-2">$79.99</span>
        </p>
      </div>
      
    </div>

  </div>

  <script> 
  document.addEventListener("DOMContentLoaded", function () {
    const isLoggedIn = localStorage.getItem("isLoggedIn");

    const loginBtn = document.getElementById("login-btn");
    const signupBtn = document.getElementById("signup-btn");
    const logoutBtn = document.getElementById("logout-btn");
    const dashboardBtn = document.getElementById("dashboard-btn");

    // Set redirect params for login and signup
    const currentPage = window.location.pathname.split('/').pop();
    loginBtn.addEventListener('click', () => {
      sessionStorage.setItem('redirectAfterLogin', currentPage);
      window.location.href = 'login.html';
    });
    signupBtn.addEventListener('click', () => {
      sessionStorage.setItem('redirectAfterLogin', currentPage);
      window.location.href = 'signup.html';
    });

    if (isLoggedIn === "true") {
        // Hide login and signup
        loginBtn.style.display = "none";
        signupBtn.style.display = "none";

        // Show logout and dashboard
        logoutBtn.style.display = "block";
        dashboardBtn.style.display = "block";
    } else {
        // Show login and signup
        loginBtn.style.display = "block";
        signupBtn.style.display = "block";

        // Hide logout and dashboard
        logoutBtn.style.display = "none";
        dashboardBtn.style.display = "none";
    }

    // Logout functionality
    logoutBtn.addEventListener("click", function () {
        localStorage.removeItem("isLoggedIn"); // Clear login state
        location.reload(); // Refresh page to update UI
    });
  });

  // Search functionality
  function searchProducts() {
    const searchInput = document.getElementById('search-input').value.toLowerCase();
    const productItems = document.querySelectorAll('.product-item');

    productItems.forEach(item => {
      const productName = item.getAttribute('data-name').toLowerCase();
      if (productName.includes(searchInput)) {
        item.style.display = 'block'; // Show product
      } else {
        item.style.display = 'none'; // Hide product
      }
    });
  }
  </script>
</body>
</html>
